<mujoco model="texture_scanner">
  <option timestep="0.0005" gravity="0 0 -9.81"/> 
  
  <asset>
    <hfield name="surface_map" nrow="257" ncol="257" size="1 1 0.05 0.05"/>
    <texture name="grid" type="2d" builtin="checker" rgb1=".1 .2 .3" rgb2=".2 .3 .4" width="300" height="300" mark="edge" markrgb=".8 .8 .8"/>
    <material name="grid" texture="grid" texrepeat="1 1" texuniform="true" reflectance=".2"/>
  </asset>

  <worldbody>
    <light pos="0 0 1"/>
    
    <body name="ground" pos="0 0 0">
      <geom name="texture_surface" type="hfield" hfield="surface_map" 
            rgba=".6 .5 .4 1" condim="4" friction="1 0.005 0.0001" 
            solimp="0.95 0.99 0.001" solref="0.002 1"/>
    </body>

    <body name="stylus" pos="0 0 0.06">
      <joint type="free"/>
      <geom name="tip" type="sphere" size="0.005" mass="0.05" rgba=".9 .1 .1 1" condim="4"/>
    </body>
  </worldbody>
  
  <actuator>
     <!-- Actuators will be added programmatically or we can use a slide joint if we want constraints -->
     <!-- For now, we'll control the stylus via direct state manipulation or external force in the loop -->
  </actuator>
</mujoco>
